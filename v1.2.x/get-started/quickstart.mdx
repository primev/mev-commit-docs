---
title: "Quickstart for mev-commit bidder node"
description: "This guide covers everything you need to set up your mev-commit node."
sidebarTitle: Quickstart
icon: "gear"
---

<Steps>
  <Step title="(Optional) Create an account">
    First you'll need to obtain or create a standard Ethereum account (secp256k1 keypair). We highly recommend storing your account in a password protected keystore file, rather than storing the private key unencrypted. If you plan to fund this account with a non-trivial amount of ETH, please independently verify any tools and/or procedures you adopt.

    If you already have a keystore generated, or want to use an existing L1 account's keystore, you're good to move on from this step.
    
    Otherwise the quickest way to generate a new keystore is to install foundry and create the file in a single command:
    ```shell
    curl -L https://foundry.paradigm.xyz | bash && foundryup && cast wallet new keystore
    ```

    The location of the generated file will be printed, otherwise you can specify a path argument according to the [docs](https://getfoundry.sh/cast/reference/wallet/new/).

    <Accordion title="Convert an existing private key into a keystore file">
        Install foundry and import an existing private key using cast in a single command. Further docs [here](https://getfoundry.sh/cast/reference/wallet/import).
        ```shell
        curl -L https://foundry.paradigm.xyz | bash && foundryup && cast wallet import account-name --interactive
        ```
    </Accordion>

    <Accordion title="Other ways to create a new keystore file">

        Use [geth's clef tool](https://geth.ethereum.org/docs/fundamentals/account-management#creating-accounts)
        ```shell
        clef newaccount --keystore ./keystore
        ```
        
        Or import geth as a dependency in your golang project and programmatically create a new keystore file. Read more [here](https://goethereumbook.org/keystore/).

        ```go
        package main
        import (
            "fmt"
            "log"
            "os"
            "github.com/ethereum/go-ethereum/accounts/keystore"
        )
        func main() {
            ks := keystore.NewKeyStore("./keystore", keystore.StandardScryptN, keystore.StandardScryptP)
            password := os.Getenv("PASSWORD")
            if password == "" {
                log.Fatal("PASSWORD environment variable not set")
            }
            account, err := ks.NewAccount(password)
            if err != nil {
                log.Fatal(err)
            }
            fmt.Println("New account address:", account.Address.Hex())
            fmt.Println("Keystore file saved in ./keystore directory")
        }
        ```
    </Accordion>

  </Step>

  <Step title="Bridge to the mev-commit chain">
    In order to fund your account on the mev-commit chain, you'll need to bridge ETH from an L1 account. We suggest using our web interface:

    1. Visit [mev-commit.xyz/bridge](https://www.mev-commit.xyz/bridge) for mainnet. Testnet bridge frontend is coming soon.
    2. Connect your wallet (MetaMask or WalletConnect supported)
    3. Select Ethereum as the source chain and mev-commit as the destination
    4. Enter the amount of ETH you want to transfer
    5. Click "Bridge" and approve the transaction

    Wait for the bridge transaction to complete. You can see detailed instructions in our [Bridge UI guide](/v1.2.x/get-started/bridge/bridge).

    <Note>
    Testnet currently requires using the bridge CLI.
    </Note>

    <Accordion title="Alternatively use the bridge CLI">

    For automated or programmatic bridging, you can use our CLI tool by first confirming your operating system and architecture by running `uname -sm`, then downloading the appropriate bridge user CLI binary from the [releases](https://github.com/primev/mev-commit/releases/latest) page. 

    Or download the bridge CLI from a specific release (example links are provided for `1.2.0-rc3`) directly below:
    * [Darwin ARM64](https://github.com/primev/mev-commit/releases/download/v1.2.0-rc3/mev-commit-bridge-user-cli_1.2.0-rc3_Darwin_arm64.tar.gz)
    * [Darwin x86_64](https://github.com/primev/mev-commit/releases/download/v1.2.0-rc3/mev-commit-bridge-user-cli_1.2.0-rc3_Darwin_x86_64.tar.gz)
    * [Linux ARM64](https://github.com/primev/mev-commit/releases/download/v1.2.0-rc3/mev-commit-bridge-user-cli_1.2.0-rc3_Linux_arm64.tar.gz)
    * [Linux x86_64](https://github.com/primev/mev-commit/releases/download/v1.2.0-rc3/mev-commit-bridge-user-cli_1.2.0-rc3_Linux_x86_64.tar.gz)
    * [Windows x86_64](https://github.com/primev/mev-commit/releases/download/v1.2.0-rc3/mev-commit-bridge-user-cli_1.2.0-rc3_Windows_x86_64.zip)

    The CLI application provides two sub-commands to bridge to and from the settlement chain. For more details go the the [bridge CLI documentation](/v1.2.x/get-started/bridge/bridge-cli).

    <Note> When using the bridge CLI, make sure to specify the newly generated account address from the previous step as the destination address for the bridge command. </Note>

    ```shell ‚ùØ_ example
    ./user-cli bridge-to-settlement --account-key <PRIVATE KEY of source account for funds> --dest-addr <Address to fund on mev-commit chain> --amount 1000000000000000000
    ```
    </Accordion>

  </Step>

  <Step title="Run a mev-commit node">

    Navigate to the [mev-commit releases page](https://github.com/primev/mev-commit/releases/) and download the appropriate binary for your system. Since you're reading the `v1.2.x` version of the docs, choose a release starting with `v1.2`.

    You can use the following command which automatically downloads and extracts the v1.2.0-rc3 mev-commit binary for your system into your $HOME directory:
    ```shell
        FILENAME="mev-commit_1.2.0-rc3_$(uname -s)_$(uname -m).tar.gz"
        curl -L \
        "https://github.com/primev/mev-commit/releases/download/v1.2.0-rc3/$FILENAME" \
        | tar -xz -C $HOME
    ```

    Run `cd $HOME` if you used the command above.
    
    Now execute the node binary, selecting either a bidder or provider configuration based on your role in the network.

    ### Mainnet

    Ensure the contract address values match those in [mainnet core contracts page](/v1.2.x/developers/networks/mainnet#core-contracts).

    <CodeGroup>

    ```bash ‚ùØ_ bidder
    ./mev-commit \
        --keystore-path /Users/alice/keystore \
        --keystore-password <PASSWORD> \
        --bootnodes /dnsaddr/bootnode.mev-commit.xyz \
        --settlement-ws-rpc-endpoint wss://chainrpc-wss.mev-commit.xyz \
        --bidder-registry-contract "${BIDDER_REGISTRY_ADDR}" \
        --provider-registry-contract "${PROVIDER_REGISTRY_ADDR}" \
        --block-tracker-contract "${BLOCK_TRACKER_ADDR}" \
        --preconf-contract "${PRECONF_ADDR}"
    ```

    ```bash ‚ùØ_ provider
    ./mev-commit \
        --peer-type provider \
        --keystore-path /Users/bob/keystore \
        --keystore-password <PASSWORD> \
        --bootnodes /dnsaddr/bootnode.mev-commit.xyz \
        --settlement-ws-rpc-endpoint wss://chainrpc-wss.mev-commit.xyz \
        --bidder-registry-contract "${BIDDER_REGISTRY_ADDR}" \
        --provider-registry-contract "${PROVIDER_REGISTRY_ADDR}" \
        --block-tracker-contract "${BLOCK_TRACKER_ADDR}" \
        --preconf-contract "${PRECONF_ADDR}" \
        --nat-addr <PUBLIC_IP>
    ```

    </CodeGroup>

    ### Testnet

    Ensure the contract address values match those in [testnet core contracts page](/v1.2.x/developers/networks/testnet#core-contract-addresses-mev-commit-chain).

    <CodeGroup>

    ```bash ‚ùØ_ bidder
    ./mev-commit \
        --keystore-path /Users/alice/keystore \
        --keystore-password <PASSWORD> \
        --bootnodes /dnsaddr/bootnode.testnet.mev-commit.xyz \
        --settlement-ws-rpc-endpoint wss://chainrpc-wss.testnet.mev-commit.xyz \
        --bidder-registry-contract 0xf960f272e6Cb64b2BDe29c2174ce6BEA998Aa067 \
        --provider-registry-contract 0xF62064943680487916558743c26D928Fb162cf5d \
        --block-tracker-contract 0x535F5204cFc8A52297dFA3CBe572869b6294f88E \
        --preconf-contract 0x911B08cb805E737DE3ea4E2326CD951E9EfCe39A
    ```

    ```bash ‚ùØ_ provider
    ./mev-commit \
        --peer-type provider \
        --keystore-path /Users/bob/keystore
        --keystore-password <PASSWORD> \
        --bootnodes /dnsaddr/bootnode.testnet.mev-commit.xyz \
        --settlement-ws-rpc-endpoint wss://chainrpc-wss.testnet.mev-commit.xyz \
        --bidder-registry-contract 0xf960f272e6Cb64b2BDe29c2174ce6BEA998Aa067 \
        --provider-registry-contract 0xF62064943680487916558743c26D928Fb162cf5d \
        --block-tracker-contract 0x535F5204cFc8A52297dFA3CBe572869b6294f88E \
        --preconf-contract 0x911B08cb805E737DE3ea4E2326CD951E9EfCe39A \
        --nat-addr <PUBLIC_IP>
    ```

    </CodeGroup>

    <Accordion title="‚ùóüïµÔ∏è‚Äç‚ôÇÔ∏è Tips">

        ‚ùó If you really don't want to use a keystore, `priv-key-file` can replace the `keystore-path` and `keystore-password` flags.

        ‚ùó The `--peer-type` flag can be used to run a `provider` or `bidder` node.

        ‚ùó The `keystore-path` flag expects the directory path for your keystore, not the file path itself. Example: if your keystore file is at `/Users/bob/keystore/30d2db95-keystore.json` you would use `--keystore-path /Users/bob/keystore`.

        ‚ùó In order to run a provider node, the machine needs to be publicly accessible. Also, the mev-commit node will have to be configured with the public IP of the node using the `nat-addr` parameter.

        See the CLI reference by running `./mev-commit --help`.

    </Accordion>

  </Step>

  <Step title="Send a Bid">
    Open a new terminal window to send a bid and receive commitments from providers. Run the following command:

    ```shell ‚ùØ_ example
    curl -X POST http://localhost:13523/v1/bidder/bid \
    -d '{
        "rawTransactions": ["0x02f8db82426882010c8410433624841043362f8303425094ea593b730d745fb5fe01b6d20e6603915252c6bf87016e03ce313800b864ce0b63ce0000000000000000000000000e94804eaa3c4c5355992086647f683f6f41ef1f000000000000000000000000000000000000000000000000000150e0786cc000000000000000000000000000000000000000000000000000000000000004e378c001a0ece6d13b20247abdc07d669c9186ee5a1ac9601db8c98a3323024ab299cb6662a01c20680efe4e0bb48a3a936b5ab27c741819f0ac567b12b34b230004b20b78a0"],
        "amount": "<amount in wei>",
        "blockNumber": <integer l1blocknumber>,
        "decayStartTimestamp": <timestamp milliseconds>,
        "decayEndTimestamp": <timestamp milliseconds>,
        "revertingTxHashes": []
    }'
    ```
    <Accordion title="Bid Structure Details">

        | Key           | Description                                           |
        |---------------|-------------------------------------------------------|
        | `txHashes`      | Array of transaction hashes as strings |
        | `amount`       | Bid amount in wei |
        | `blockNumber`  | L1 block number targeted for bid inclusion |
        | `decayStartTimestamp` | Start timestamp for bid decay (in Unix milliseconds) |
        | `decayEndTimestamp` | End timestamp for bid decay (in Unix milliseconds) |
        | `revertingTxHashes` | Array of transaction hashes as strings that can revert |
        | `rawTransactions` | Array of hexadecimal encoded raw signed transaction payloads |
        | `slashAmount` | Amount to be slashed from provider stake in case of a failed bid |

    </Accordion>

You can change the values in the fields `amount`, `blockNumber`, `decayStartTimestamp`, `decayEndTimestamp` and `revertingTxHashes` as desired. The `rawTransactions` field contains hexadecimal string of the RLP encoded raw transaction payloads, include raw transaction payloads in your bid in the atomic sequence in which they need to be placed in the block.  Only one out of `txHashes` or `rawTransactions` need to be sent in a bid.

Make sure your bid amount is sufficiently high for the commitment you're requesting, and your target L1 block number is accurate. It's up to the providers to commit to your bid, so try to ensure a commitment is feasible to your bid by its construction. Selecting a target block of n+1 where n is the current block number generally makes it easy to receive a commitment for standard bid amounts.

</Step>
</Steps>

<Check>Congrats, you just sent your first L1 preconfirmation bid! You should be receiving commitments nearly instantly.</Check>

Alternatively you can send a bid using the `txHashes` field instead of `rawTransactions` to refer to a transaction a provider has in their own environment using its hash. This method also allows you to bid on others' behalf using their transaction hashes.
```shell ‚ùØ_ example
curl -X POST http://localhost:13523/v1/bidder/bid \
-d '{
    "txHashes": ["0549fc7c57fffbdbfb2cf9d5e0de165fc68dadb5c27c42fdad0bdf506f4eacae"],
    "amount": "<amount in wei>",
    "blockNumber": <integer l1blocknumber>,
    "decayStartTimestamp": <timestamp milliseconds>,
    "decayEndTimestamp": <timestamp milliseconds>,
    "revertingTxHashes": []
}'
```

<Info> Make sure to check [System Requirements](/v1.2.x/developers/system-requirements) to better understand what is needed to run mev-commit without any interruptions.</Info>

# Bidder CLI application
In order to make it simpler for users to interact with the bidder node, the team has also created a CLI application which aims to provider a simpler UX to send transactions or bids to the mev-commit network. You can check the [bidder CLI](/v1.2.x/get-started/bidders/bidder-cli) docs for more details.

# Docker Compose setup

An example docker compose setup for a bidder driver process along with mev-commit bidder node can be found [here](https://github.com/primev/preconf_bot).
